
# ğŸš€ IProgress<T> ì‚¬ìš© ì¼€ì´ìŠ¤ ì •ë¦¬

---

## í™˜ê²½ë³„ í™œìš©

| í™˜ê²½             | ì£¼ìš” ìš©ë„                                                  | íŠ¹ì§•                                                |
|------------------|------------------------------------------------------------|-----------------------------------------------------|
| **WPF (Desktop)** | UI ì—…ë°ì´íŠ¸ (ProgressBar, ìƒíƒœ ë©”ì‹œì§€ ë“±)                  | UI ìŠ¤ë ˆë“œ ìº¡ì²˜. Thread-safe. UI ë°”ì¸ë”© ì‰½ê²Œ ê°€ëŠ¥    |
| **ASP.NET Core** | í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ì „íŒŒ (SignalR, WebSocket, gRPC Streaming) | UIëŠ” ì—†ì§€ë§Œ ì™¸ë¶€ë¡œ ìƒíƒœ ì „ì†¡. Request ì™¸ë¶€ì—ì„œë„ ë™ì‘ |
| **Library (ê³µìš©)**| í˜¸ì¶œìì—ê²Œ ì§„í–‰ ìƒí™© ì œê³µ                                  | UI, Console, Web ìƒê´€ì—†ì´ í˜¸ì¶œìì— ìƒíƒœ ì•Œë¦¼ ê°€ëŠ¥   |

---

## ğŸ–¥ï¸ WPFì—ì„œì˜ ì‚¬ìš©

### âœ… ì£¼ìš©ë„
- UI ìŠ¤ë ˆë“œì—ì„œ ì•ˆì „í•˜ê²Œ ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
- ProgressBar, Status Label, Log í‘œì‹œ ë“±

### âœ”ï¸ ì˜ˆì‹œ

```csharp
public async Task DownloadAsync(IProgress<int> progress)
{
    for (int i = 0; i <= 100; i++)
    {
        await Task.Delay(50);
        progress?.Report(i);
    }
}
```

```csharp
var progress = new Progress<int>(value =>
{
    ProgressBarValue = value;
});
await DownloadAsync(progress);
```

### ğŸ”¥ íŠ¹ì§•
- ë‚´ë¶€ì ìœ¼ë¡œ UI ìŠ¤ë ˆë“œ ìº¡ì²˜.
- Thread-safe í•˜ê²Œ UI ì—…ë°ì´íŠ¸ ê°€ëŠ¥.

---

## ğŸŒ ASP.NET Coreì—ì„œì˜ ì‚¬ìš©

### âœ… ì£¼ìš©ë„
- SignalR, WebSocketì„ í†µí•œ ì‹¤ì‹œê°„ ìƒíƒœ ì „íŒŒ
- Background Task ì§„í–‰ ìƒíƒœ ì „ë‹¬

### âœ”ï¸ ì˜ˆì‹œ

```csharp
public async Task RunLongJobAsync(string connectionId, IProgress<string> progress)
{
    progress.Report("ì‹œì‘");

    for (int i = 0; i <= 100; i += 10)
    {
        await Task.Delay(500);
        progress.Report($"ì§„í–‰ë¥  {i}%");
    }

    progress.Report("ì™„ë£Œ");
}
```

```csharp
var progress = new Progress<string>(async message =>
{
    await hubContext.Clients.Client(connectionId)
        .SendAsync("ReceiveProgress", message);
});

await jobService.RunLongJobAsync(connectionId, progress);
```

### ğŸ”¥ íŠ¹ì§•
- UIëŠ” ì—†ì§€ë§Œ, ì™¸ë¶€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì§„í–‰ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ ì „ì†¡.
- SynchronizationContextê°€ ì—†ê¸° ë•Œë¬¸ì— Thread-safe í•„ìš” ì—†ìŒ.
- ë‹¨ìˆœí•œ ìƒíƒœ ì „ë‹¬ ë„êµ¬ë¡œ í™œìš©.

---

## ğŸ“¦ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œì˜ ì‚¬ìš©

### âœ… ì£¼ìš©ë„
- UI í”„ë ˆì„ì›Œí¬, ë°±ì—”ë“œ í™˜ê²½ê³¼ ë¬´ê´€í•˜ê²Œ ì§„í–‰ ìƒíƒœ ë³´ê³ 
- í˜¸ì¶œìê°€ ì›í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìƒíƒœë¥¼ ì²˜ë¦¬

### âœ”ï¸ ì˜ˆì‹œ

```csharp
public async Task ProcessDataAsync(IProgress<string> progress)
{
    progress?.Report("ë°ì´í„° ë¡œë“œ ì¤‘...");
    await Task.Delay(500);

    progress?.Report("ì²˜ë¦¬ ì¤‘...");
    await Task.Delay(500);

    progress?.Report("ì™„ë£Œ");
}
```

### í˜¸ì¶œì(WPF)

```csharp
var progress = new Progress<string>(msg => Information = msg);
await ProcessDataAsync(progress);
```

### í˜¸ì¶œì(Console)

```csharp
var progress = new Progress<string>(msg => Console.WriteLine(msg));
await ProcessDataAsync(progress);
```

### ğŸ”¥ íŠ¹ì§•
- í”„ë ˆì„ì›Œí¬ ë…ë¦½ì 
- UI, ì½˜ì†”, ë°±ì—”ë“œ ì–´ë””ì„œë“  ì¼ê´€ì„± ìˆëŠ” ìƒíƒœ ë³´ê³  ë°©ì‹ ì œê³µ

---

## ğŸ¯ ì¢…í•© ë¹„êµ

| í™˜ê²½             | ìƒíƒœ ë³´ê³  ë°©ì‹                   | UI ìŠ¤ë ˆë“œ í•„ìš” | ì“°ë ˆë“œ ì•ˆì „ì„± | ëŒ€í‘œ ì‚¬ë¡€                         |
|------------------|----------------------------------|----------------|----------------|------------------------------------|
| **WPF**          | UI ë°”ì¸ë”©                        | í•„ìš”           | í•„ìˆ˜           | ProgressBar, Status Label ì—…ë°ì´íŠ¸|
| **ASP.NET Core** | SignalR, WebSocket ë“± í´ë¼ì´ì–¸íŠ¸ ì•Œë¦¼ | ë¶ˆí•„ìš”         | ë‚´ë¶€ì ìœ¼ë¡œ ì•ˆì „ | ì‹¤ì‹œê°„ ìƒíƒœ ì „ì†¡, ë°±ê·¸ë¼ìš´ë“œ Job  |
| **Library**      | í˜¸ì¶œìì—ê²Œ ìƒíƒœ ë³´ê³              | ë¬´ê´€           | ë¬´ê´€           | ë¼ì´ë¸ŒëŸ¬ë¦¬, NuGet íŒ¨í‚¤ì§€ ì„¤ê³„      |

---

## ğŸš© ê²°ë¡ 

- WPFì—ì„œëŠ” UI ìŠ¤ë ˆë“œ ì•ˆì „ì„±ì„ ìœ„í•´ ìì—°ìŠ¤ëŸ½ê²Œ ì“°ì¸ë‹¤.
- ASP.NET Coreì—ì„œëŠ” UIê°€ ì—†ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì™€ì˜ ì‹¤ì‹œê°„ í†µì‹ ì— í™œìš© ê°€ëŠ¥.
- Libraryì—ì„œëŠ” í™˜ê²½ì— êµ¬ì• ë°›ì§€ ì•Šê³  ìƒíƒœ ì „íŒŒ ë„êµ¬ë¡œ ì‚¬ìš©.

IProgressëŠ” ë‹¨ìˆœí•œ UI ë„êµ¬ê°€ ì•„ë‹Œ, Thread-safeí•œ ìƒíƒœ ì „íŒŒ ë„êµ¬ì´ì ì„¤ê³„ íŒ¨í„´ì˜ ì¼ë¶€ë‹¤.



# ğŸš€ IProgress<T> ì‚¬ìš© ì¼€ì´ìŠ¤ ë° ëŒ€ì²´ ë°©ë²• ì •ë¦¬

---

## âœ… ê° í™˜ê²½ë³„ IProgress<T> ì‚¬ìš© ì´ìœ ì™€ ëŒ€ì²´ ë°©ë²•

| í™˜ê²½             | IProgress ì‚¬ìš© ì´ìœ                       | ëŒ€ì²´ ë°©ë²•                                                   | ì¥ë‹¨ì                                                    |
|------------------|-------------------------------------------|-------------------------------------------------------------|----------------------------------------------------------|
| **WPF (Desktop)** | UI ìŠ¤ë ˆë“œ ì•ˆì „í•˜ê²Œ ìƒíƒœ ë³´ê³              | âœ… Dispatcher.Invoke<br>âœ… ì§ì ‘ ViewModel ì†ì„± ì—…ë°ì´íŠ¸       | - ê°„ë‹¨í•˜ì§€ë§Œ UI Thread ê´€ë¦¬ í•„ìš”<br>- Dispatcher ë‚¨ìš© ê°€ëŠ¥ |
| **ASP.NET Core** | í´ë¼ì´ì–¸íŠ¸ ì‹¤ì‹œê°„ ìƒíƒœ ë³´ê³               | âœ… ì§ì ‘ HubContext í˜¸ì¶œ<br>âœ… Channel, AsyncEnumerable í™œìš©  | - ë” ìœ ì—°í•˜ê³  Stream ê°€ëŠ¥<br>- ì½”ë“œ ë³µì¡ë„ ì•½ê°„ ì¦ê°€     |
| **Library (ê³µìš©)**| í˜¸ì¶œìì—ê²Œ ìƒíƒœë¥¼ í”„ë ˆì„ì›Œí¬ ë…ë¦½ì ìœ¼ë¡œ ì œê³µ| âœ… ì´ë²¤íŠ¸(EventHandler)<br>âœ… ì½œë°±(Action)<br>âœ… Observable | - ìœ ì—°í•˜ì§€ë§Œ í˜¸ì¶œì ì½”ë“œê°€ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŒ             |

---

## ğŸ–¥ï¸ WPFì—ì„œì˜ ëŒ€ì²´ ë°©ë²•

### âœ… Dispatcher ì§ì ‘ ì‚¬ìš©

```csharp
Application.Current.Dispatcher.Invoke(() =>
{
    ProgressBarValue = value;
});
```

### âœ… ViewModel ì†ì„± ì§ì ‘ ì—…ë°ì´íŠ¸ (UI Context ìœ ì§€ ì‹œ)

```csharp
public async Task DownloadAsync()
{
    for (int i = 0; i <= 100; i++)
    {
        await Task.Delay(50);
        Information = $"ì§„í–‰ë¥  {i}%";
    }
}
```

---

## ğŸŒ ASP.NET Coreì—ì„œì˜ ëŒ€ì²´ ë°©ë²•

### âœ… HubContext ì§ì ‘ í˜¸ì¶œ

```csharp
for (int i = 0; i <= 100; i += 10)
{
    await Task.Delay(500);
    await _hubContext.Clients.Client(connectionId)
        .SendAsync("ReceiveProgress", $"ì§„í–‰ë¥  {i}%");
}
```

### âœ… Channel í™œìš©

```csharp
var channel = Channel.CreateUnbounded<string>();

_ = Task.Run(async () =>
{
    for (int i = 0; i <= 100; i += 10)
    {
        await Task.Delay(500);
        await channel.Writer.WriteAsync($"ì§„í–‰ë¥  {i}%");
    }
    channel.Writer.Complete();
});

await foreach (var message in channel.Reader.ReadAllAsync())
{
    await _hubContext.Clients.Client(connectionId)
        .SendAsync("ReceiveProgress", message);
}
```

### âœ… IAsyncEnumerable í™œìš©

```csharp
public async IAsyncEnumerable<string> GetProgressAsync()
{
    for (int i = 0; i <= 100; i += 10)
    {
        await Task.Delay(500);
        yield return $"ì§„í–‰ë¥  {i}%";
    }
}
```

---

## ğŸ“¦ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œì˜ ëŒ€ì²´ ë°©ë²•

### âœ… Event íŒ¨í„´

```csharp
public event EventHandler<string> ProgressChanged;

private void OnProgress(string message)
{
    ProgressChanged?.Invoke(this, message);
}
```

### âœ… ì½œë°±(Action) íŒ¨í„´

```csharp
public async Task RunAsync(Action<string> progressCallback)
{
    progressCallback?.Invoke("ì‹œì‘");

    for (int i = 0; i <= 100; i += 10)
    {
        await Task.Delay(500);
        progressCallback?.Invoke($"ì§„í–‰ë¥  {i}%");
    }

    progressCallback?.Invoke("ì™„ë£Œ");
}
```

### âœ… IObservable íŒ¨í„´

```csharp
public IObservable<string> RunAsObservable()
{
    return Observable.Create<string>(async observer =>
    {
        observer.OnNext("ì‹œì‘");
        for (int i = 0; i <= 100; i += 10)
        {
            await Task.Delay(500);
            observer.OnNext($"ì§„í–‰ë¥  {i}%");
        }
        observer.OnNext("ì™„ë£Œ");
        observer.OnCompleted();
    });
}
```

---

## ğŸ¯ ì¢…í•© ê²°ë¡ 

| í™˜ê²½             | IProgress        | ëŒ€ì²´ ë°©ë²•                      | ì„ íƒ ê¸°ì¤€                                         |
|------------------|------------------|---------------------------------|--------------------------------------------------|
| **WPF**          | UI Thread ìº¡ì²˜   | Dispatcher, ViewModel ì§ì ‘ ì—…ë°ì´íŠ¸ | âœ”ï¸ ê°„ë‹¨í•œ ì•±: ViewModel ì§ì ‘<br>âœ”ï¸ ë³µì¡: IProgress ê¶Œì¥ |
| **ASP.NET Core** | ìƒíƒœ ì „íŒŒ ë„êµ¬    | HubContext, Channel, AsyncEnumerable | âœ”ï¸ ë‹¨ìˆœ ì•Œë¦¼: HubContext<br>âœ”ï¸ ìŠ¤íŠ¸ë¦¼: Channel, AsyncEnum |
| **Library**      | ìƒíƒœ ë³´ê³  ì¸í„°í˜ì´ìŠ¤| Event, Action, Observable       | âœ”ï¸ ê°„ë‹¨: Action/Event<br>âœ”ï¸ ë³µì¡/ì»´í¬ì§€ì…˜: Observable |

---

## ğŸš© ìµœì¢… ê²°ë¡ 

- WPFì—ì„œëŠ” UI ìŠ¤ë ˆë“œ ì•ˆì „ì„±ì„ ìœ„í•´ ìì—°ìŠ¤ëŸ½ê²Œ ì“°ì¸ë‹¤.
- ASP.NET Coreì—ì„œëŠ” UIê°€ ì—†ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì™€ì˜ ì‹¤ì‹œê°„ í†µì‹ ì— í™œìš© ê°€ëŠ¥.
- Libraryì—ì„œëŠ” í™˜ê²½ì— êµ¬ì• ë°›ì§€ ì•Šê³  ìƒíƒœ ì „íŒŒ ë„êµ¬ë¡œ ì‚¬ìš©.

IProgressëŠ” ë‹¨ìˆœí•œ UI ë„êµ¬ê°€ ì•„ë‹Œ, Thread-safeí•œ ìƒíƒœ ì „íŒŒ ë„êµ¬ì´ì ì„¤ê³„ íŒ¨í„´ì˜ ì¼ë¶€ë‹¤. ìƒí™©ì— ë”°ë¼ Channel, AsyncEnumerable, Observableì´ ë” ê°•ë ¥í•œ ëŒ€ì•ˆì´ ë  ìˆ˜ ìˆë‹¤.
